(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e1f01f9"],{"120b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"shortcut__content"},[t._t("default")],2)},s=[],n=a("d4ec"),c=a("bee2"),r=a("262e"),l=a("2caf"),o=a("9ab4"),u=a("60a3"),d=a("b76a"),b=a.n(d),v=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(n["a"])(this,a),t=e.apply(this,arguments),t.isActive=!1,t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.isActive=this.selected}}]),a}(u["c"]);Object(o["a"])([Object(u["b"])({required:!0})],v.prototype,"name",void 0),Object(o["a"])([Object(u["b"])({required:!1})],v.prototype,"icon",void 0),Object(o["a"])([Object(u["b"])({default:!1})],v.prototype,"selected",void 0),v=Object(o["a"])([Object(u["a"])({name:"ShortcutContent",components:{Draggable:b.a}})],v);var p=v,f=p,h=(a("d3ce"),a("2877")),m=Object(h["a"])(f,i,s,!1,null,"e2694c30",null);e["a"]=m.exports},2890:function(t,e,a){},"36b6":function(t,e,a){},"68c6":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page__content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"level"},[t._m(0),a("div",{staticClass:"level-right"},[a("div",{staticClass:"buttons"},[a("a",{staticClass:"button is-text has-text-white",staticStyle:{"text-decoration":"none","background-color":"transparent","font-weight":"500"},on:{click:function(e){return t.$router.push({name:"Builder@index"})}}},[a("span",[t._v("กลับ")])]),a("b-button",{staticClass:"button is-black",attrs:{"icon-left":"refresh-circle",loading:t.isCalling},on:{click:function(e){return t.getAll()}}}),a("b-dropdown",{attrs:{triggers:["hover"],"aria-role":"list"},scopedSlots:t._u([{key:"trigger",fn:function(e){var i=e.active;return[a("b-button",{staticClass:"button is-black",attrs:{"icon-left":"plus","icon-right":i?"menu-up":"menu-down"}},[t._v("เพิ่มสื่อใหม่")])]}}])},[a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){t.isAddActive=!0}}},[t._v("เพิ่มจาก URL")]),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){t.isModalActive=!0}}},[t._v("อัพโหลดไฟล์")]),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){t.isModalActive=!0}}},[t._v("นำเข้าจาก Unsplash")])],1)],1)])])]),a("div",{staticClass:"content"},[a("div",{staticClass:"columns is-multiline"},t._l(t.mediaList,(function(e,i){return a("div",{key:i,staticClass:"column is-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-image"},[a("figure",{staticClass:"image is-4by3"},["IMAGE"==e.type?a("img",{attrs:{src:e.directLink}}):t._e(),"YOUTUBE"==t.selected.type?a("iframe",{staticClass:"has-ratio",attrs:{width:"640",height:"315",src:e.directLink}}):t._e()])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"tags"},[a("div",{staticClass:"tag is-white is-small"},[t._v(t._s(e.type))])]),a("h4",{staticClass:"title is-6"},[t._v(t._s(e.name))]),a("h4",{staticClass:"subtitle is-7"},[t._v(t._s(e.description))]),a("div",{staticClass:"buttons"},[a("a",{staticClass:"button is-small",on:{click:function(a){t.isEditActive=!0,t.selected=e}}},[t._v("แก้ไข")]),a("a",{staticClass:"button is-small",on:{click:function(a){return t.onDelete(e)}}},[t._v("ลบ")])])])])])})),0)]),a("b-modal",{attrs:{width:480,scroll:"keep"},model:{value:t.isModalActive,callback:function(e){t.isModalActive=e},expression:"isModalActive"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("h4",{staticClass:"title is-4"},[t._v("อัพโหลดไฟล์")]),a("b-message",[t._v("คำอธิบายสามารถกำหนดได้ภายหลัง")]),a("section",[t.file.name?a("b-field",[a("b-loading",{attrs:{"is-full-page":!1},model:{value:t.isUploading,callback:function(e){t.isUploading=e},expression:"isUploading"}}),a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"upload",size:"is-large"}})],1),a("p",{staticClass:"title is-6",staticStyle:{"margin-bottom":"1.75rem"}},[t._v("กำลังอัพโหลด..")]),a("p",{staticClass:"subtitle is-6"},[t._v(t._s(t.file.name))])])])],1):a("b-field",[a("b-upload",{attrs:{"drag-drop":"",expanded:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"upload",size:"is-large"}})],1),a("p",{staticClass:"title is-6",staticStyle:{"margin-bottom":"1.75rem"}},[t._v("ลากไฟล์มาที่นี่เพื่ออัพโหลด")]),a("p",{staticClass:"subtitle is-6"},[t._v("(รองรับ JPEG, PNG, GIF, MP4, AVI)")]),a("p",{staticClass:"subtitle is-6"},[t._v(t._s(t.file.name))])])])])],1)],1)],1)])]),a("b-modal",{attrs:{width:480,scroll:"keep"},model:{value:t.isAddActive,callback:function(e){t.isAddActive=e},expression:"isAddActive"}},[a("div",{staticClass:"card"},[t.newData.directLink?a("div",{staticClass:"card-image"},[a("figure",{class:"image"+t.newData.type=="YOUTUBE"?"is-16by9":"is-square"},["IMAGE"==t.newData.type?a("img",{staticClass:"has-ratio",attrs:{src:t.newData.directLink}}):t._e(),"YOUTUBE"==t.newData.type?a("iframe",{staticClass:"has-ratio",attrs:{width:"100%",height:"360",src:t.newData.directLink}}):t._e()])]):t._e(),a("div",{staticClass:"card-content"},[a("h4",{staticClass:"title is-4"},[t._v("เพิ่มสื่อจาก URL")]),a("b-field",{attrs:{label:"ประเภทสื่อ"}},[a("b-select",{staticStyle:{width:"100%"},attrs:{placeholder:"เลือกสถานะ"},model:{value:t.newData.type,callback:function(e){t.$set(t.newData,"type",e)},expression:"newData.type"}},[a("option",{attrs:{value:"IMAGE"}},[t._v("รูปภาพ (Image)")]),a("option",{attrs:{value:"VIDEO"}},[t._v("วีดีโอ (Video)")]),a("option",{attrs:{value:"YOUTUBE"}},[t._v("YouTube")])])],1),a("b-field",{attrs:{label:"ชื่อสื่อ"}},[a("b-input",{model:{value:t.newData.name,callback:function(e){t.$set(t.newData,"name",e)},expression:"newData.name"}})],1),a("b-field",{attrs:{label:"คำอธิบาย"}},[a("b-input",{attrs:{type:"textarea",rows:"2"},model:{value:t.newData.description,callback:function(e){t.$set(t.newData,"description",e)},expression:"newData.description"}})],1),a("b-field",{attrs:{label:"ลิงค์ภายนอก"}},[a("b-input",{model:{value:t.newData.directLink,callback:function(e){t.$set(t.newData,"directLink",e)},expression:"newData.directLink"}})],1),"YOUTUBE"==t.newData.type?a("b-field",{attrs:{label:"ลิงค์ภายนอก"}},[a("b-input",{model:{value:t.newData.directLink,callback:function(e){t.$set(t.newData,"directLink",e)},expression:"newData.directLink"}})],1):t._e(),a("div",{staticClass:"buttons is-right"},[a("a",{staticClass:"button is-black"},[t._v("ยกเลิก")]),a("a",{staticClass:"button is-black",on:{click:t.onCreate}},[t._v("เพิ่มสื่อ")])])],1)])]),a("b-modal",{attrs:{width:480,scroll:"keep"},model:{value:t.isEditActive,callback:function(e){t.isEditActive=e},expression:"isEditActive"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-image"},[a("figure",{class:"image"+t.selected.type=="YOUTUBE"?"is-16by9":"is-square"},["IMAGE"==t.selected.type?a("img",{staticClass:"has-ratio",attrs:{src:t.selected.directLink}}):t._e(),"YOUTUBE"==t.selected.type?a("iframe",{staticClass:"has-ratio",attrs:{width:"100%",height:"360",src:t.selected.directLink}}):t._e()])]),a("div",{staticClass:"card-content"},[a("h4",{staticClass:"title is-4"},[t._v("แก้ไข")]),a("b-field",{attrs:{label:"ชื่อสื่อ"}},[a("b-input",{model:{value:t.selected.name,callback:function(e){t.$set(t.selected,"name",e)},expression:"selected.name"}})],1),a("b-field",{attrs:{label:"คำอธิบาย"}},[a("b-input",{attrs:{type:"textarea"},model:{value:t.selected.description,callback:function(e){t.$set(t.selected,"description",e)},expression:"selected.description"}})],1),"YOUTUBE"==t.selected.type?a("b-field",{attrs:{label:"ลิงค์ภายนอก"}},[a("b-input",{model:{value:t.selected.directLink,callback:function(e){t.$set(t.selected,"directLink",e)},expression:"selected.directLink"}})],1):t._e(),a("div",{staticClass:"buttons is-right"},[a("a",{staticClass:"button is-black"},[t._v("ยกเลิก")]),a("a",{staticClass:"button is-black",on:{click:function(e){return t.onEdit(t.selected)}}},[t._v("แก้ไข")])])],1)])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"level-left"},[a("div",[a("h4",{staticClass:"title is-4 has-text-white",staticStyle:{"font-weight":"bold"}},[t._v("สื่อและไฟล์")]),a("p",{staticClass:"subtitle is-6 has-text-white",staticStyle:{"font-weight":"normal"}},[t._v("กำหนดค่าให้แม่แบบที่กำลังแก้ไขอยู่")])])])}],n=(a("baa5"),a("b0c0"),a("96cf"),a("1da1")),c=a("d4ec"),r=a("bee2"),l=a("262e"),o=a("2caf"),u=a("9ab4"),d=a("60a3"),b=a("3d8f"),v=a("c20e"),p=a("120b"),f=a("d4dc"),h=a("53d8"),m=a("8cca"),g=a("b54a"),w=a("c3cf"),C=function(t){Object(l["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.isCalling=!1,t.isModalActive=!1,t.isUploading=!1,t.isAddActive=!1,t.isEditActive=!1,t.newData=new w["a"](0,"","",w["b"].IMAGE,"",""),t.selected={},t.file={},t.mediaList=[],t}return Object(r["a"])(a,[{key:"beforeMount",value:function(){}},{key:"mounted",value:function(){this.getAll()}},{key:"getAll",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isCalling=!0,e=new m["a"](g["a"].MEDIA),e.setRequest(g["b"].GET),t.next=5,e.shoot({});case 5:this.mediaList=e.getResult(),this.isCalling=e.status;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onCreate",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new m["a"](g["a"].MEDIA),e.setRequest(g["b"].CREATE),e.setAttachData(this.newData),t.next=5,e.shoot({});case 5:return this.isAddActive=!1,t.next=8,this.getAll();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onEdit",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new m["a"](g["a"].MEDIA),a.setRequest(g["b"].UPDATE),a.setAttachData(e),t.next=5,a.shoot({});case 5:return this.isEditActive=!1,t.next=8,this.getAll();case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onDelete",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new m["a"](g["a"].MEDIA),a.setRequest(g["b"].DELETE),t.next=4,a.shoot({id:e.id});case 4:return t.next=6,this.getAll();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getFileExtension",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Error Name"|this.file.name;return t.substr(t.lastIndexOf(".")+1).toLowerCase()}},{key:"onSubmitUpload",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onUpload",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("SELECTED FILE"),t.prev=1,t.t0=this.getFileExtension(this.file.name).toUpperCase(),t.next="JPEG"===t.t0||"PNG"===t.t0||"GIF"===t.t0||"MP4"===t.t0||"AVI"===t.t0?5:15;break;case 5:return console.log("THIS FILE CAN UPLOAD"),e=new FormData,e.append("file",this.file),a=new m["a"](g["a"].MEDIA),a.setAttachData(e),a.setRequest(g["b"].CREATE),t.next=13,a.shoot({});case 13:return this.isModalActive=!1,t.abrupt("break",19);case 15:return console.log("CANT UPLOAD THIS FILE"),f["b"].showToast("ระบบไม่รองรับชนิดไฟล์ที่เลือก",h["a"].DANGER,h["b"].TOP,4e3),this.file={},t.abrupt("break",19);case 19:t.next=23;break;case 21:t.prev=21,t.t1=t["catch"](1);case 23:case"end":return t.stop()}}),t,this,[[1,21]])})));function e(){return t.apply(this,arguments)}return e}()}]),a}(d["c"]);Object(u["a"])([Object(d["d"])("file")],C.prototype,"onUpload",null),C=Object(u["a"])([Object(d["a"])({name:"MediaManager",components:{ShortcutContent:p["a"],ShortcutMenu:v["a"],Navbar:b["a"]}})],C);var k=C,O=k,_=(a("8b89"),a("2877")),A=Object(_["a"])(O,i,s,!1,null,"582d4f33",null);e["default"]=A.exports},"7a07":function(t,e,a){},8686:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"panel-content"},[t._t("default")],2)},s=[],n=a("d4ec"),c=a("bee2"),r=a("262e"),l=a("2caf"),o=a("9ab4"),u=a("60a3"),d=a("b76a"),b=a.n(d),v=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(n["a"])(this,a),t=e.apply(this,arguments),t.isActive=!1,t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.isActive=this.selected}}]),a}(u["c"]);Object(o["a"])([Object(u["b"])({required:!0})],v.prototype,"name",void 0),Object(o["a"])([Object(u["b"])({required:!0})],v.prototype,"icon",void 0),Object(o["a"])([Object(u["b"])({default:!1})],v.prototype,"selected",void 0),v=Object(o["a"])([Object(u["a"])({name:"RightPanelContent",components:{Draggable:b.a}})],v);var p=v,f=p,h=(a("b73f"),a("2877")),m=Object(h["a"])(f,i,s,!1,null,"551c562e",null);e["a"]=m.exports},"8b89":function(t,e,a){"use strict";var i=a("c584"),s=a.n(i);s.a},b73f:function(t,e,a){"use strict";var i=a("2890"),s=a.n(i);s.a},baa5:function(t,e,a){var i=a("23e7"),s=a("e58c");i({target:"Array",proto:!0,forced:s!==[].lastIndexOf},{lastIndexOf:s})},c20e:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shortcut"},[a("a",{staticClass:"header"},[t._v("เมนูลัด")]),a("div",{staticClass:"menu-wrapper"},t._l(t.tabs,(function(e,i){return a("a",{key:i,staticClass:"menu",class:{active:e.isActive},on:{click:function(a){return t.clickedTab(e)}}},[e.icon?a("i",{class:e.icon}):t._e(),a("span",[t._v(t._s(e.name))])])})),0),t._t("default")],2)},s=[],n=(a("4160"),a("b0c0"),a("159b"),a("d4ec")),c=a("bee2"),r=a("262e"),l=a("2caf"),o=a("9ab4"),u=a("60a3"),d=a("b76a"),b=a.n(d),v=a("8686"),p=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(n["a"])(this,a),t=e.apply(this,arguments),t.tabs=[],t}return Object(c["a"])(a,[{key:"created",value:function(){this.tabs=this.$children}},{key:"clickedTab",value:function(t){this.tabs.forEach((function(e){return e.isActive=e.name===t.name}))}}]),a}(u["c"]);p=Object(o["a"])([Object(u["a"])({name:"ShortcutMenu",components:{PanelContent:v["a"],Draggable:b.a}})],p);var f=p,h=f,m=(a("eb8b"),a("2877")),g=Object(m["a"])(h,i,s,!1,null,"fde2918c",null);e["a"]=g.exports},c584:function(t,e,a){},d3ce:function(t,e,a){"use strict";var i=a("7a07"),s=a.n(i);s.a},e58c:function(t,e,a){"use strict";var i=a("fc6a"),s=a("a691"),n=a("50c4"),c=a("a640"),r=a("ae40"),l=Math.min,o=[].lastIndexOf,u=!!o&&1/[1].lastIndexOf(1,-0)<0,d=c("lastIndexOf"),b=r("indexOf",{ACCESSORS:!0,1:0}),v=u||!d||!b;t.exports=v?function(t){if(u)return o.apply(this,arguments)||0;var e=i(this),a=n(e.length),c=a-1;for(arguments.length>1&&(c=l(c,s(arguments[1]))),c<0&&(c=a+c);c>=0;c--)if(c in e&&e[c]===t)return c||0;return-1}:o},eb8b:function(t,e,a){"use strict";var i=a("36b6"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-5e1f01f9.88f60e87.js.map