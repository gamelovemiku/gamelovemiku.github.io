(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b341f34"],{"190d":function(t,e,a){},"8b24":function(t,e,a){"use strict";var s=a("190d"),i=a.n(s);i.a},ac25:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"padding-top":"3rem"}},[a("div",{staticClass:"level"},[t._m(0),a("div",{staticClass:"level-right"},[a("b-tooltip",{staticStyle:{margin:"0.15rem"},attrs:{label:"สร้าง",type:"is-light",position:"is-bottom"}},[a("b-button",{staticStyle:{"font-family":"'Kanit', Avenir, Helvetica, Arial, sans-serif","font-weight":"400"},attrs:{type:"is-black is-outlined","icon-left":"plus"},on:{click:function(e){return t.createNewTemplate()}}},[t._v(" สร้างแม่แบบใหม่ ")])],1)],1)]),a("div",{staticClass:"box",staticStyle:{"margin-top":"2.75rem"}},[a("h4",{staticClass:"title is-4"},[t._v(" โปรเจคที่เปิดล่าสุด "),t.isLoading?a("small",[t._v("กำลังโหลดข้อมูล...")]):t._e()]),a("table",{staticClass:"table is-striped is-fullwidth",staticStyle:{"font-weight":"300"}},[a("tbody",t._l(t.projects,(function(e,s){return a("tr",{key:s},[a("th",{staticStyle:{"font-weight":"300"},attrs:{width:"70%"}},[a("a",{staticClass:"bold",on:{click:function(a){return t.onClick(e)}}},[t._m(1,!0),t._v(" "+t._s(e.name)+" ")])]),a("th",{staticStyle:{"font-weight":"300"},attrs:{width:"10%"}},[t._v(t._s(e.owner.username))]),a("th",{staticStyle:{"font-weight":"300"},attrs:{width:"20%"}},[t._v(t._s(e.created_date))])])})),0)])]),a("b-modal",{attrs:{width:840,scroll:"keep"},model:{value:t.isCrateModalActive,callback:function(e){t.isCrateModalActive=e},expression:"isCrateModalActive"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("h4",{staticClass:"title is-4"},[t._v("สร้างแม่แบบใหม่")]),a("b-field",{attrs:{label:"ชื่อแม่แบบ"}},[a("b-input")],1),a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-6"})])],1)])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"level-left"},[a("div",[a("img",{attrs:{src:"https://www.mysamt.com/assets/logo/SAMT-logo-orange-sm.png",alt:"SAMT"}}),a("h1",{staticClass:"title is-1",staticStyle:{"margin-top":"0.35rem","margin-bottom":"0"}},[t._v("ออกแบบแม่แบบ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("span",{staticClass:"mdi mdi-newspaper"})])}],n=(a("96cf"),a("1da1")),r=a("d4ec"),c=a("bee2"),l=a("262e"),o=a("2caf"),u=a("9ab4"),d=a("60a3"),m=a("b54a"),p=a("c115"),h=a("d4dc"),f=a("d4bf"),v=a("679f"),b=a("d840"),g=a("8cca"),w=a("e348"),y=function(t){Object(l["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.projects=[],t.isCrateModalActive=!1,t.isLoading=!0,t}return Object(c["a"])(a,[{key:"mounted",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return h["b"].setCustomStyleSource(""),h["b"].setSelectedElement({}),b["a"].setPageTitle("ออกแบบแม่แบบ - SAMT Template Builder"),e=new g["a"](m["a"].TEMPLATE),e.setRequest(m["b"].GET),t.next=7,e.shoot({});case 7:this.projects=e.getResult(),this.isLoading=e.status;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onClick",value:function(t){v["a"].setTemplate(t.id).then((function(){h["b"].getInstance().$router.push({name:"Builder@index"}).then((function(){h["b"].setCustomStyleSource("/assets/oms/dynamic/customstyle.php/?id=".concat(t.id))}))})),this.$store.state.template=h["b"].parseTemplate(v["a"].getTemplate())}},{key:"createNewTemplate",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new g["a"](m["a"].TEMPLATE),a.setRequest(m["b"].CREATE),a.setAttachData(new p["a"](0,"แม่แบบใหม่ของ ".concat(null===(e=f["a"].getUser())||void 0===e?void 0:e.username),"คำอธิบายแม่แบบ",new w["a"]("หัวข้อเว็บไซต์","",[],[]),[],"",f["a"].getUser(),p["b"].DRAFT,["TITLE","SUBTITLE"],0)),t.next=5,a.shoot({});case 5:if("OK"!==a.getResponseInfo().apistatus){t.next=9;break}return this.onClick(a.getResult()),t.next=9,this.$router.push({name:"Builder@index"});case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"auth",get:function(){return f["a"].getUser()}}]),a}(d["c"]);y=Object(u["a"])([Object(d["a"])({name:"ProjectSelectionView",components:{}})],y);var C=y,_=C,T=(a("8b24"),a("2877")),k=Object(T["a"])(_,s,i,!1,null,"7d2cd140",null);e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-1b341f34.347f0619.js.map