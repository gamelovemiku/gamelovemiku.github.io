(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6eaa46b8"],{"120b":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"shortcut__content"},[e._t("default")],2)},i=[],n=a("d4ec"),l=a("bee2"),c=a("262e"),r=a("2caf"),o=a("9ab4"),u=a("60a3"),d=a("b76a"),b=a.n(d),v=function(e){Object(c["a"])(a,e);var t=Object(r["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.isActive=!1,e}return Object(l["a"])(a,[{key:"mounted",value:function(){this.isActive=this.selected}}]),a}(u["c"]);Object(o["a"])([Object(u["b"])({required:!0})],v.prototype,"name",void 0),Object(o["a"])([Object(u["b"])({required:!1})],v.prototype,"icon",void 0),Object(o["a"])([Object(u["b"])({default:!1})],v.prototype,"selected",void 0),v=Object(o["a"])([Object(u["a"])({name:"ShortcutContent",components:{Draggable:b.a}})],v);var f=v,m=f,p=(a("d3ce"),a("2877")),h=Object(p["a"])(m,s,i,!1,null,"e2694c30",null);t["a"]=h.exports},2890:function(e,t,a){},"36b6":function(e,t,a){},"757c":function(e,t,a){},"7a07":function(e,t,a){},"85e3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page__content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("b-icon",{staticStyle:{"margin-right":"0.45rem"},attrs:{icon:e.config.icon}}),a("span",{staticClass:"is-size-4 has-text-white",staticStyle:{"font-weight":"500"}},[e._v(e._s(e.config.title))])],1),a("div",{staticClass:"level-right"},[a("div",{staticClass:"buttons"},[a("b-button",{staticClass:"button is-outline",attrs:{"icon-left":"refresh",loading:e.isCalling},on:{click:e.getAll}},[a("span",[e._v("โหลดข้อมูลใหม่")])]),a("b-button",{attrs:{"icon-left":"plus",type:"is-warning"},nativeOn:{click:function(t){e.isAddModalActive=!0}}},[e._v(" เพิ่มผู้ใช้ใหม่ ")])],1)])])]),a("div",{staticClass:"content"},[a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-8"},[a("div",{staticClass:"box"},[a("b-table",{attrs:{data:e.users,columns:[{field:"id",label:"ไอดี",width:"20",numeric:!0},{field:"username",label:"ชื่อผู้ใช้",width:"120"},,{field:"firstName",label:"ชื่อ",width:"120"},{field:"lastName",label:"นามสกุล",width:"120"},{field:"email",label:"อีเมล",width:"120"},{field:"role",label:"บทบาท",width:"120"}],selected:e.selected,"pagination-simple":!0,paginated:"","per-page":"12",loading:e.isCalling},on:{"update:selected":function(t){e.selected=t}}})],1)]),e.selected?a("div",{staticClass:"column is-4"},[a("div",{staticClass:"box"},[a("p",{staticClass:"subtitle is-6 is-black is-large"},[e._v("กำลังเลือกข้อมูลของ")]),a("h1",{staticClass:"title is-2 is-black is-large"},[e._v(e._s(e.selected.username))]),a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:"ชื่อผู้ใช้"}},[a("b-input",{model:{value:e.selected.username,callback:function(t){e.$set(e.selected,"username",t)},expression:"selected.username"}})],1),a("b-field",{attrs:{label:"อีเมล"}},[a("b-input",{model:{value:e.selected.email,callback:function(t){e.$set(e.selected,"email",t)},expression:"selected.email"}})],1)],1),a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:"ชื่อ"}},[a("b-input",{model:{value:e.selected.firstName,callback:function(t){e.$set(e.selected,"firstName",t)},expression:"selected.firstName"}})],1),a("b-field",{attrs:{label:"นามสกุล"}},[a("b-input",{model:{value:e.selected.lastName,callback:function(t){e.$set(e.selected,"lastName",t)},expression:"selected.lastName"}})],1),a("b-field",{attrs:{label:"บทบาท"}},[a("b-select",{staticStyle:{width:"100%"},attrs:{placeholder:"เลือกบทบาท"},model:{value:e.selected.role,callback:function(t){e.$set(e.selected,"role",t)},expression:"selected.role"}},[a("option",{attrs:{value:"Designer"}},[e._v("นักออกแบบ (Designer)")]),a("option",{attrs:{value:"Marketer"}},[e._v("นักการตลาด (Marketer)")]),a("option",{attrs:{value:"Administrator"}},[e._v("ผู้ดูแลระบบ (Administrator)")])])],1),a("b-field",{attrs:{label:"การกระทำอื่น ๆ"}},[a("div",{staticClass:"buttons are-small"},[a("b-button",{staticClass:"button is-danger is-outlined",attrs:{"icon-left":"account-cancel-outline"},on:{click:e.onDelete}},[e._v("ระงับการใช้งาน")]),a("b-button",{staticClass:"button is-link is-light is-outlined",attrs:{"icon-left":"logout"},on:{click:e.onDelete}},[e._v("รีเซ็ต Token ใหม่")]),a("b-button",{staticClass:"is-warning is-light is-small",attrs:{"icon-left":"close-circle"},on:{click:e.onClearSelected}},[e._v("ยกเลิกการเลือกข้อมูล")])],1)]),a("b-button",{staticClass:"button is-black is-fullwidth",attrs:{"icon-left":"content-save"},on:{click:e.onEdit}},[e._v("บันทึก")])],1)])])]):a("div",{staticClass:"column is-4"},[a("b-message",{attrs:{type:"is-info","aria-close-label":"Close message"}},[a("h4",{staticClass:"title is-4"},[e._v("เลือกผู้ใช้ที่ต้องการแก้ไขด้านซ้าย")]),a("p",{staticClass:"subtitle is-6"},[e._v("คลิ๊กที่บรรทัดข้อมูลที่ต้องการบนตารางเพื่อเริ่มการจัดการข้อมูล")])])],1)]),a("b-modal",{attrs:{width:450,scroll:"keep"},model:{value:e.isAddModalActive,callback:function(t){e.isAddModalActive=t},expression:"isAddModalActive"}},[a("div",{staticClass:"card has-status"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"level",staticStyle:{"margin-bottom":"0"}},[a("div",{staticClass:"level-left"},[a("div",[a("h4",{staticClass:"subtitle is-6 has-text-weight-medium"},[e._v("New User")]),a("h4",{staticClass:"title is-4"},[e._v("เพิ่มผู้ใช้ใหม่")])])]),a("div",{staticClass:"level-right"},[a("div",{staticClass:"has-text-right"},[a("b-button",{attrs:{type:"is-light","icon-left":"book-variant"}})],1)])]),a("b-field",{attrs:{label:"ชื่อผู้ใช้"}},[a("b-input",{model:{value:e.newData.username,callback:function(t){e.$set(e.newData,"username",t)},expression:"newData.username"}})],1),a("b-field",{attrs:{label:"อีเมล"}},[a("b-input",{model:{value:e.newData.email,callback:function(t){e.$set(e.newData,"email",t)},expression:"newData.email"}})],1),a("b-field",{attrs:{label:"รหัสผ่านที่ใช้เข้าสู่ระบบ"}},[a("b-input",{model:{value:e.newData.password,callback:function(t){e.$set(e.newData,"password",t)},expression:"newData.password"}})],1),a("b-field",{attrs:{label:"ชื่อ"}},[a("b-input",{model:{value:e.newData.firstName,callback:function(t){e.$set(e.newData,"firstName",t)},expression:"newData.firstName"}})],1),a("b-field",{attrs:{label:"นามสกุล"}},[a("b-input",{model:{value:e.newData.lastName,callback:function(t){e.$set(e.newData,"lastName",t)},expression:"newData.lastName"}})],1),a("b-field",{attrs:{label:"บทบาท"}},[a("b-select",{staticStyle:{width:"100%"},attrs:{placeholder:"เลือกบทบาท"},model:{value:e.newData.role,callback:function(t){e.$set(e.newData,"role",t)},expression:"newData.role"}},[a("option",{attrs:{value:"Designer"}},[e._v("นักออกแบบ")]),a("option",{attrs:{value:"Marketer"}},[e._v("นักการตลาด")]),a("option",{attrs:{value:"Administrator"}},[e._v("ผู้ดูแลระบบ")])])],1),a("div",{staticClass:"buttons is-right"},[a("b-button",{staticClass:"is-black is-outlined",on:{click:function(t){e.isAddModalActive=!1}}},[e._v("ยกเลิก")]),a("b-button",{staticClass:"is-black",on:{click:e.onCreate}},[e._v("เพิ่มผู้ใช้ใหม่")])],1)],1)])])],1)])},i=[],n=(a("96cf"),a("1da1")),l=a("d4ec"),c=a("bee2"),r=a("262e"),o=a("2caf"),u=a("9ab4"),d=a("60a3"),b=a("3d8f"),v=a("c20e"),f=a("120b"),m=a("d4dc"),p=a("b54a"),h=a("8cca"),g=function(e){Object(r["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.users=[],e.selected=null,e.config={icon:"account",title:"ผู้ใช้งานในระบบ"},e.isCalling=!1,e.isAddModalActive=!1,e.newData={username:"",email:"",password:"",firstName:"",lastName:"",role:"Designer",profileImg:""},e}return Object(c["a"])(a,[{key:"beforeMount",value:function(){this.getAll()}},{key:"getAll",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isCalling=!0,t=new h["a"](p["a"].USER),t.setRequest(p["b"].GET),e.next=5,t.shoot({});case 5:this.users=t.getResult(),this.isCalling=t.status;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCreate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isCalling=!0,t=new h["a"](p["a"].USER),t.setRequest(p["b"].CREATE),t.setAttachData(this.newData),e.next=6,t.shoot({});case 6:return this.isCalling=t.status,e.next=9,this.getAll();case 9:this.isAddModalActive=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEdit",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isCalling=!0,t=new h["a"](p["a"].USER),t.setRequest(p["b"].UPDATE),t.setAttachData(this.selected),e.next=6,t.shoot({});case 6:return this.isCalling=t.status,e.next=9,this.getAll();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDelete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$buefy.dialog.confirm({title:"ยืนยันการระงับบัญชีผู้ใช้งาน",message:'<h4 class="title is-4">ระงับบัญชี '.concat(null===(t=this.selected)||void 0===t?void 0:t.username,"</h4>โดยการกระทำนี้ผู้ใช้นี้จะไม่สามารถเข้าสู่ระบบ รวมถึงกระทำการใด ๆ ต่อที่เกี่ยวกับระบบได้ <br/><br/>สามารถยกเลิกการระงับนี้ได้ที่แท็บ 'ผู้ใช้ทีถูกระงับ'"),cancelText:"กลับ",confirmText:"ยืนยันการระงับ ".concat(null===(a=this.selected)||void 0===a?void 0:a.username),type:"is-danger",hasIcon:!0,icon:"account-cancel",iconPack:"mdi",onConfirm:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.isCalling=!0,t=new h["a"](p["a"].USER),t.setRequest(p["b"].DELETE),t.setAttachData(s.selected),e.next=6,t.shoot({});case 6:return s.isCalling=t.status,s.selected=null,e.next=10,s.getAll();case 10:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onClearSelected",value:function(){this.selected=null}},{key:"activeTemplate",get:function(){return m["b"].getTemplate()}}]),a}(d["c"]);g=Object(u["a"])([Object(d["a"])({name:"ManageUser",components:{ShortcutContent:f["a"],ShortcutMenu:v["a"],Navbar:b["a"]}})],g);var w=g,C=w,k=(a("cde2"),a("2877")),O=Object(k["a"])(C,s,i,!1,null,"4fb592f2",null);t["default"]=O.exports},8686:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"panel-content"},[e._t("default")],2)},i=[],n=a("d4ec"),l=a("bee2"),c=a("262e"),r=a("2caf"),o=a("9ab4"),u=a("60a3"),d=a("b76a"),b=a.n(d),v=function(e){Object(c["a"])(a,e);var t=Object(r["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.isActive=!1,e}return Object(l["a"])(a,[{key:"mounted",value:function(){this.isActive=this.selected}}]),a}(u["c"]);Object(o["a"])([Object(u["b"])({required:!0})],v.prototype,"name",void 0),Object(o["a"])([Object(u["b"])({required:!0})],v.prototype,"icon",void 0),Object(o["a"])([Object(u["b"])({default:!1})],v.prototype,"selected",void 0),v=Object(o["a"])([Object(u["a"])({name:"RightPanelContent",components:{Draggable:b.a}})],v);var f=v,m=f,p=(a("b73f"),a("2877")),h=Object(p["a"])(m,s,i,!1,null,"551c562e",null);t["a"]=h.exports},b73f:function(e,t,a){"use strict";var s=a("2890"),i=a.n(s);i.a},c20e:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shortcut"},[a("a",{staticClass:"header"},[e._v("เมนูลัด")]),a("div",{staticClass:"menu-wrapper"},e._l(e.tabs,(function(t,s){return a("a",{key:s,staticClass:"menu",class:{active:t.isActive},on:{click:function(a){return e.clickedTab(t)}}},[t.icon?a("i",{class:t.icon}):e._e(),a("span",[e._v(e._s(t.name))])])})),0),e._t("default")],2)},i=[],n=(a("4160"),a("b0c0"),a("159b"),a("d4ec")),l=a("bee2"),c=a("262e"),r=a("2caf"),o=a("9ab4"),u=a("60a3"),d=a("b76a"),b=a.n(d),v=a("8686"),f=function(e){Object(c["a"])(a,e);var t=Object(r["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.tabs=[],e}return Object(l["a"])(a,[{key:"created",value:function(){this.tabs=this.$children}},{key:"clickedTab",value:function(e){this.tabs.forEach((function(t){return t.isActive=t.name===e.name}))}}]),a}(u["c"]);f=Object(o["a"])([Object(u["a"])({name:"ShortcutMenu",components:{PanelContent:v["a"],Draggable:b.a}})],f);var m=f,p=m,h=(a("eb8b"),a("2877")),g=Object(h["a"])(p,s,i,!1,null,"fde2918c",null);t["a"]=g.exports},cde2:function(e,t,a){"use strict";var s=a("757c"),i=a.n(s);i.a},d3ce:function(e,t,a){"use strict";var s=a("7a07"),i=a.n(s);i.a},eb8b:function(e,t,a){"use strict";var s=a("36b6"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-6eaa46b8.8f4c56b5.js.map