(function(e){function t(t){for(var a,s,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);h&&h(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var o=n[s];0!==i[o]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},s={app:0},i={app:0},r=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-1ac9a67f":"63df2896","chunk-037e122f":"19fdd76a","chunk-5e1f01f9":"88f60e87","chunk-6d0a2d9e":"6666c11e","chunk-3aba84af":"3118254b","chunk-7039902f":"c917112f","chunk-6eaa46b8":"8f4c56b5","chunk-9a819782":"65b98989","chunk-d82b2a78":"5ae6ab84","chunk-e2a2bd2a":"124b47c4","chunk-ef17f748":"a39a74f3","chunk-1b341f34":"347f0619","chunk-2d0a407b":"06eab0e0","chunk-2d0b9d55":"c1670f52","chunk-2d0df465":"9f7a0e68","chunk-2d2304a4":"4a341e4d","chunk-631dee32":"f514dfae","chunk-76da98c5":"b73b38a8","chunk-81108bf6":"adbd6546"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-037e122f":1,"chunk-5e1f01f9":1,"chunk-6d0a2d9e":1,"chunk-3aba84af":1,"chunk-7039902f":1,"chunk-6eaa46b8":1,"chunk-9a819782":1,"chunk-d82b2a78":1,"chunk-e2a2bd2a":1,"chunk-ef17f748":1,"chunk-1b341f34":1,"chunk-631dee32":1,"chunk-76da98c5":1,"chunk-81108bf6":1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-1ac9a67f":"31d6cfe0","chunk-037e122f":"c03240a9","chunk-5e1f01f9":"866cbfb1","chunk-6d0a2d9e":"1c3d86a5","chunk-3aba84af":"a324ee15","chunk-7039902f":"a9064745","chunk-6eaa46b8":"d54ca0aa","chunk-9a819782":"a7df8796","chunk-d82b2a78":"3d989440","chunk-e2a2bd2a":"6db09eb6","chunk-ef17f748":"0b3a8702","chunk-1b341f34":"10fcaa4a","chunk-2d0a407b":"31d6cfe0","chunk-2d0b9d55":"31d6cfe0","chunk-2d0df465":"31d6cfe0","chunk-2d2304a4":"31d6cfe0","chunk-631dee32":"9bd8c527","chunk-76da98c5":"4e2a73b8","chunk-81108bf6":"3ad8e9cc"}[e]+".css",i=c.p+a,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var l=r[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===a||u===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete s[e],h.parentNode.removeChild(h),n(r)},h.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){s[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(h);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",d.name="ChunkLoadError",d.type=a,d.request=s,n[1](d)}i[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/web/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";var a=n("85ec"),s=n.n(a);s.a},"31d7":function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e["END"]="end",e["ROW"]="row",e["LAYOUT"]="layout",e["ELEMENT"]="element",e["TYPOGRAPHY"]="typography",e["MEDIA"]="media",e["COLUMN_GROUP"]="column-group",e["COLUMN"]="column",e["BUTTON_GROUP"]="button-group",e["BUTTON"]="button",e["FORM_GROUP"]="form-group",e["NO_MORE_CHILD"]="none",e["TAG"]="tag",e["CONTAINER"]="container",e["HERO"]="hero",e["HERO_HEAD"]="hero-head",e["HERO_BODY"]="hero-body",e["HERO_FOOT"]="hero-foot",e["SECTION"]="section"}(a||(a={}))},"3d8f":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("div",{staticClass:"microbar"},[n("div",{staticClass:"microbar left"},[e.$store.getters.template?n("p",[e._m(0),n("span",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticStyle:{"margin-left":"6px"}},[e._v(e._s("กำลังแก้ไขแม่แบบ: "+e.$store.getters.template.name||!1))]),n("span",{directives:[{name:"show",rawName:"v-show",value:null!=e.loggedUser.username,expression:"loggedUser.username != null"}],staticStyle:{"margin-left":"6px"}},[e._v("| เข้าสู่ระบบเป็น "+e._s(e.loggedUser.username))])]):e._e()]),e._m(1)]),n("div",{staticClass:"menu"},[n("div",{staticClass:"logo"},[n("img",{attrs:{src:"https://www.mysamt.com/assets/logo/SAMT-logo-orange-sm.png",alt:"Builder"},on:{click:function(t){return e.$router.push({name:"Builder"})}}})]),n("div",{staticClass:"menu-left"},[n("b-dropdown",{attrs:{"aria-role":"list"}},[n("div",{staticClass:"item",attrs:{slot:"trigger",role:"button"},slot:"trigger"},[n("a",{attrs:{href:"#"}},[e._v("ไฟล์")])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-plus-box-multiple-outline"})]),n("span",[e._v("สร้างแม่แบบใหม่")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("hr",{staticClass:"dropdown-divider"}),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.template.save()}}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-content-save"})]),n("span",[e._v("บันทึก")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-content-save-edit"})]),n("span",[e._v("บันทึกไปยังเซิร์ฟเวอร์")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-content-save-edit"})]),n("span",[e._v("ดาวน์โหลด JSON")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("hr",{staticClass:"dropdown-divider"}),n("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-cog"})]),n("span",[e._v("ตั้งค่าแม่แบบ")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("hr",{staticClass:"dropdown-divider"}),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.$router.push({name:"Builder@start"})}}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi-save"})]),n("span",[e._v("กลับไปยังหน้าเลือกแม่แบบ")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])])],1),n("b-dropdown",{attrs:{"aria-role":"list"}},[n("div",{staticClass:"item",attrs:{slot:"trigger",role:"button"},slot:"trigger"},[n("a",{attrs:{href:"#"}},[e._v("แทรก")])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-box"})]),n("span",[e._v("องค์ประกอบ")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:e.addNewSection}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-box"})]),n("span",[e._v("ส่วนใหม่")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])])],1),n("b-dropdown",{attrs:{"aria-role":"list"}},[n("div",{staticClass:"item",attrs:{slot:"trigger",role:"button"},slot:"trigger"},[n("a",[e._v("โหมดการเลือก ("+e._s(e.$store.getters.selectMode)+")")])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.selectMode("TEXT")}}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-format-list-text"})]),n("span",[e._v("ข้อความ")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.selectMode("BUTTON")}}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-format-list-text"})]),n("span",[e._v("ปุ่ม")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.selectMode("MEDIA")}}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-format-list-text"})]),n("span",[e._v("สื่อ")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.selectMode("FORM")}}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"fab fa-wpforms"})]),n("span",[e._v("แบบฟอร์ม")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.selectMode("COLUMNS")}}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-format-list-text"})]),n("span",[e._v("คอลัมน์")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.selectMode("SECTIONS")}}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-format-list-text"})]),n("span",[e._v("ส่วนเนื้อหา")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])])],1),n("b-dropdown",{attrs:{"aria-role":"list","close-on-click":!1}},[n("div",{staticClass:"item",attrs:{slot:"trigger",role:"button"},slot:"trigger"},[n("a",{attrs:{href:"#"}},[e._v("มุมมอง")])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:e.toggleDebugMode}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{class:e.$store.getters.isDebugMode?"far fa-check-square":"far fa-square"})]),n("span",[e._v("โหมดเส้นกรอบ")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-box"})]),n("span",[e._v("ซ่อนแผงเครื่องมือ")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])])],1)],1),n("div",{staticClass:"menu-right"},[n("div",{staticClass:"item",staticStyle:{"margin-right":"0.75rem"}},[n("CounterBox",{ref:"counter"})],1),n("div",{staticClass:"item"},[n("router-link",{staticClass:"is-invert",attrs:{to:{name:"Settings@template"},tag:"a"}},[n("b-icon",{staticStyle:{"margin-right":"4px"},attrs:{size:"is-small",icon:"cogs"}}),n("span",[e._v("ตั้งค่าแม่แบบ")])],1)],1),e._m(2),n("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[n("div",{staticClass:"item",staticStyle:{padding:"0"},attrs:{slot:"trigger",role:"button"},slot:"trigger"},[n("img",{staticClass:"profile-image",attrs:{src:e.loggedUser.profileImg,alt:e.loggedUser.username}})]),n("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-account-cog-outline"})]),n("span",[e._v("ตั้งค่าบัญชี")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])]),n("hr",{staticClass:"dropdown-divider"}),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.logout()}}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"mdi mdi-door-open"})]),n("span",[e._v("ออกจากระบบ")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"has-text-right has-text-grey-light"})])])])],1)],1)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"fas fa-shapes fa-sm",staticStyle:{"margin-left":"0.65rem"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"microbar close-button"},[n("i",{staticClass:"fas fa-times"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item",staticStyle:{display:"none"}},[n("a",[e._v("เข้าสู่ระบบ")])])}],i=n("d4ec"),r=n("bee2"),o=n("262e"),c=n("2caf"),l=n("9ab4"),u=n("60a3"),d=n("d4dc"),h=n("49e9"),f=n("d4bf"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:function(t){e.countDown=0,e.onCountEnd()}}},[e.countDown>0?n("div",[n("b-tooltip",{attrs:{label:"บันทึกทันที",position:"is-left",type:"is-dark"}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("b-icon",{staticStyle:{"margin-right":"0.45rem"},attrs:{icon:"bookmark-multiple-outline"}})],1),n("div",{staticClass:"level-right"},[n("div",[n("h6",{staticClass:"title is-size-7",staticStyle:{"margin-bottom":"1.2rem"}},[e._v("บันทึกแม่แบบในอีก "+e._s(e.countDown))]),n("p",{staticClass:"subtitle is-size-7",staticStyle:{"font-size":"12px"}},[e._v("คลิ๊กที่นี่เพื่อบันทึกทันที")])])])])])],1):e._e(),0===e.countDown?n("div",[n("b-tooltip",{attrs:{label:"บันทึกข้อมูลแม่แบบนี้แล้ว",position:"is-left",type:"is-success"}},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("b-icon",{staticStyle:{"margin-right":"0.45rem"},attrs:{icon:"bookmark-check-outline"}})],1),n("div",{staticClass:"level-right"},[n("div",[n("h6",{staticClass:"title is-size-7",staticStyle:{"margin-bottom":"1.2rem"}},[e._v("บันทึกแม่แบบแล้ว")]),n("p",{staticClass:"subtitle is-size-7",staticStyle:{"font-size":"12px"}},[e._v(e._s(e.stamp))])])])])])],1):e._e()])},m=[],p=n("ee05"),v=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.countDown=0,e}return Object(r["a"])(n,[{key:"countDownTimer",value:function(){var e=this;0!=this.countDown?this.countDown>0&&setTimeout((function(){0!=e.countDown&&(e.onCounting(),e.countDown-=1,e.countDownTimer())}),1e3):this.onCountEnd()}},{key:"reset",value:function(e){this.countDown=e,this.countDownTimer()}},{key:"onCounting",value:function(){p["a"].onCounting(this.countDown)}},{key:"onCountEnd",value:function(){console.log("onCountEnd()"),p["a"].onOver()}},{key:"stamp",get:function(){var e=(new Date).toLocaleString();return e}}]),n}(u["c"]);v=Object(l["a"])([Object(u["a"])({name:"CounterBox",components:{}})],v);var b=v,y=b,k=n("2877"),E=Object(k["a"])(y,g,m,!1,null,null,null),T=E.exports,C=n("31d7"),O=n("951e"),S=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"beforeMount",value:function(){p["a"].registerInstance(this),console.log("%c[UI] 'Nav' has been spawned!","color: #bada55")}},{key:"addNewSection",value:function(){this.template.body.push(new h["a"]("section",{class:"hero is-white is-fullheight"},"",[],[]).setTypeTags([O["a"].SECTIONS]).setChildren([new h["a"]("div",{class:"hero-body"},"",[],[]).setChildren([new h["a"]("div",{class:"container"},"",[],[]).setChildren([new h["a"]("div",{class:"columns"},"",[C["a"].LAYOUT],[]).setTypeTags([O["a"].COLUMNS]).setChildren([new h["a"]("div",{class:"column is-6"},"",[],[C["a"].TYPOGRAPHY,C["a"].BUTTON_GROUP]),new h["a"]("div",{class:"column is-6"},"",[],[C["a"].TYPOGRAPHY,C["a"].BUTTON_GROUP])])])])]))}},{key:"selectMode",value:function(e){var t=O["a"].NONE;switch(e){case"TEXT":t=O["a"].TEXT;break;case"BUTTON":t=O["a"].BUTTON;break;case"MEDIA":t=O["a"].MEDIA;break;case"FORM":t=O["a"].FORM;break;case"COLUMNS":t=O["a"].COLUMNS;break;case"SECTIONS":t=O["a"].SECTIONS;break;default:t=O["a"].NONE;break}this.$store.dispatch("setSelectMode",t)}},{key:"save",value:function(){d["b"].saveTemplateInstantly()}},{key:"toggleDebugMode",value:function(){d["b"].setDebugMode(d["a"].TOGGLE)}},{key:"changeStyle",value:function(){d["b"].setCustomStyleSource("https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css")}},{key:"logout",value:function(){f["a"].logout()}},{key:"body",get:function(){return d["b"].getTemplate()}},{key:"template",get:function(){return this.$store.state.template}},{key:"loggedUser",get:function(){return d["b"].getLoggedUser()}}]),n}(u["c"]);S=Object(l["a"])([Object(u["a"])({name:"BuilderNavbar",components:{CounterBox:T}})],S);var R=S,w=R,I=(n("c325"),Object(k["a"])(w,a,s,!1,null,"5e1244ea",null));t["a"]=I.exports},"49e9":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("99af"),n("4160"),n("caad"),n("a434"),n("b0c0"),n("2532"),n("159b");var a=n("d4ec"),s=n("bee2"),i=n("31d7"),r=n("d840"),o=n("d4dc"),c=function(){function e(t,n,s,i,r){Object(a["a"])(this,e),this.typeTags=[],this.parentTags=[],this.childTags=[],this.isLock=!1,this.children=new Array,this.tag=t,this.props=n,this.inner=s,this.parentTags=i,this.childTags=r}return Object(s["a"])(e,[{key:"setTag",value:function(e){return this.tag=e,this}},{key:"setLock",value:function(e){return this.isLock=e,this}},{key:"setProps",value:function(e){return this.props=e,this}},{key:"setInner",value:function(e){return this.inner=e,this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"showInfo",value:function(){return console.log("❖ ข้อมูลองค์ประกอบของ %c".concat(this.tag," (").concat(this.name,")"),"color:lightgreen; font-weight: 600;"),console.log(this),this}},{key:"canPutParent",value:function(e){var t=this;if(this.childTags.includes(i["a"].NO_MORE_CHILD))return!1;var n=!1;try{return e.childTags.forEach((function(e){o["b"].getHoveredElement().parentTags.includes(e)&&(n=!0)})),n}catch(a){r["a"].debugMessage(r["b"].INFO,"[ERROR] ไม่พบ Standard Element กรุณาวางเมาส์ค้างไว้ที่ Standard Element")}try{return o["b"].getHoveredElement().childTags.forEach((function(e){t.childTags.includes(e)||(n=!0)})),n}catch(a){r["a"].debugMessage(r["b"].INFO,"[ERROR] ไม่พบ Standard Element กรุณาวางเมาส์ค้างไว้ที่ Standard Element")}return!1}},{key:"clone",value:function(){return this.parseElement(this)}},{key:"parseElement",value:function(t){return new e(JSON.parse(JSON.stringify(t.tag)),JSON.parse(JSON.stringify(t.props)),JSON.parse(JSON.stringify(t.inner)),JSON.parse(JSON.stringify(t.parentTags)),JSON.parse(JSON.stringify(t.childTags))).setChildren(this.parseElementList(t.children)).setLock(t.isLock).setTypeTags(JSON.parse(JSON.stringify(t.typeTags)))}},{key:"parseElementList",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.parseElement(e))})),n}},{key:"addParentTag",value:function(e){return this.parentTags.includes(e)?(r["a"].debugMessage(r["b"].WARNING,"[IGNORE] Element ลูกของ ".concat(this.name," นี้สามารถใช้คู่กับพื้นที่ ").concat(e," ได้อยู่แล้ว")),this):(this.parentTags.push(e),this)}},{key:"setParentTags",value:function(e){return this.parentTags=e,this}},{key:"removeParentTag",value:function(e){var t=this;return this.parentTags.includes(e)&&this.parentTags.forEach((function(n,a){n===e&&t.parentTags.splice(a,1)})),this}},{key:"hasParentTag",value:function(e){return this.parentTags.includes(e)}},{key:"setTypeTags",value:function(e){return this.typeTags=e,this}},{key:"removeTypeTag",value:function(e){var t=this;return this.typeTags.includes(e)&&this.typeTags.forEach((function(n,a){n===e&&t.typeTags.splice(a,1)})),this}},{key:"hasTypeTag",value:function(e){return this.typeTags.includes(e)}},{key:"addChildTag",value:function(e){return this.childTags.includes(e)?(r["a"].debugMessage(r["b"].WARNING,"[IGNORE] Element ลูกของ ".concat(this.name," นี้สามารถใช้คู่กับพื้นที่ ").concat(e," ได้อยู่แล้ว")),this):(this.childTags.push(e),console.log("PUSHED"),this)}},{key:"setChildTags",value:function(e){return this.childTags=e,this}},{key:"removeChildTag",value:function(e){var t=this;return this.childTags.includes(e)&&this.childTags.forEach((function(n,a){n===e&&t.childTags.splice(a,1)})),this}},{key:"hasChildTag",value:function(e){return this.childTags.includes(e)}},{key:"addChild",value:function(e){return this.children.push(e),this}},{key:"setChildren",value:function(e){return this.children=e,this}},{key:"removeChild",value:function(e){var t=this;return this.children.includes(e)&&this.children.forEach((function(n,a){n===e&&t.children.splice(a,1)})),this}},{key:"getSign",get:function(){return"".concat(this.tag,".").concat(this.props.class,": ").concat(this.inner)}}]),e}()},"523a":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("a4d3"),n("e01a"),n("b0c0");var a=n("d4ec"),s=n("bee2"),i=n("262e"),r=n("2caf"),o=n("49e9"),c=function(e){Object(i["a"])(n,e);var t=Object(r["a"])(n);function n(e,s,i,r,o,c,l,u,d){var h;return Object(a["a"])(this,n),h=t.call(this,o,l,c,u,d),h.id=e,h.name=s,h.description=i,h.owner=r,h}return Object(s["a"])(n,[{key:"getDisplayName",value:function(){return"".concat(this.name)}}]),n}(o["a"])},"53d8":function(e,t,n){"use strict";var a,s;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),function(e){e["PRIMARY"]="is-primary",e["WARNING"]="is-warning",e["LINK"]="is-link",e["SUCCESS"]="is-success",e["WHITE"]="is-white",e["LIGHT"]="is-light",e["DARK"]="is-dark",e["BLACK"]="is-black",e["DANGER"]="is-danger"}(a||(a={})),function(e){e["TOP"]="is-top",e["TOP_LEFT"]="is-top-left",e["TOP_RIGHT"]="is-top-right",e["BOTTOM"]="is-bottom",e["BOTTOM_LEFT"]="is-bottom-left",e["BOTTOM_RIGHT"]="is-bottom-right"}(s||(s={}))},"5e51":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("d4ec"),s=n("bee2"),i=n("d4a9"),r=function(){function e(){Object(a["a"])(this,e),this.storageKey="logged_user",this.defaultValue=null,this.storageData=JSON.parse(localStorage.getItem(this.storageKey))||this.defaultValue,null===localStorage.getItem(this.storageKey)&&localStorage.setItem(this.storageKey,JSON.stringify(this.storageData))}return Object(s["a"])(e,[{key:"getUser",value:function(){return this.storageData?i["a"].parseUser(this.storageData):null}},{key:"setUser",value:function(e){console.log(e),this.storageData=e,this.save()}},{key:"clear",value:function(){this.storageData=null,this.save()}},{key:"save",value:function(){localStorage.setItem(this.storageKey,JSON.stringify(this.storageData))}}]),e}()},"679f":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("96cf");var a=n("1da1"),s=n("d4ec"),i=n("bee2"),r=n("b54a"),o=n("8cca"),c=n("d4a9"),l=function(){function e(){Object(s["a"])(this,e)}return Object(i["a"])(e,null,[{key:"setTemplate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new o["a"](r["a"].TEMPLATE),n.setRequest(r["b"].GET),e.next=4,n.shoot({id:t});case 4:n.getResult(),n.log(),localStorage.setItem("loadedTemplate",JSON.stringify(n.getResult()));case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTemplate",value:function(){return c["a"].parseTemplate(JSON.parse(localStorage.getItem("loadedTemplate")))}},{key:"isLoad",value:function(){return null!=this.getTemplate()}}]),e}()},8016:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("d4ec"),s=n("bee2"),i=n("8dda"),r=function(){function e(t,n,s,i,r,o,c,l){Object(a["a"])(this,e),this.id=t,this.username=n,this.email=s,this.firstName=i,this.lastName=r,this.profileImg=o,this.role=c,this.token=l}return Object(s["a"])(e,[{key:"isAdmin",get:function(){return this.role===i["a"].ADMINISTRATOR}},{key:"isMarketer",get:function(){return this.role===i["a"].MARKETER}},{key:"isDesigner",get:function(){return this.role===i["a"].DESIGNER}}]),e}()},"85ec":function(e,t,n){},"8a16":function(e,t,n){},"8cca":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("99af"),n("b0c0");var a=n("53ca"),s=n("5530"),i=(n("96cf"),n("1da1")),r=n("d4ec"),o=n("bee2"),c=n("d4bf"),l=n("b54a"),u=n("bc3a"),d=n.n(u),h=n("cc82"),f=n("d4a9"),g=n("39ea"),m=n("d4dc"),p=function e(t,n,a){Object(r["a"])(this,e),this.id=t,this.errorInfo=n,this.createdDate=a},v=function(){function e(){Object(r["a"])(this,e),this.history=JSON.parse(localStorage.getItem("offline_history"))||[],null===localStorage.getItem("offline_history")&&localStorage.setItem("offline_history",JSON.stringify(this.history))}return Object(o["a"])(e,[{key:"getHistory",value:function(){return this.history}},{key:"add",value:function(e,t){this.history.push(new p(0,{error_code:e,error_message:t},"")),console.log(this.history),this.save()}},{key:"clear",value:function(){this.history=[],this.save()}},{key:"save",value:function(){localStorage.setItem("offline_history",JSON.stringify(this.history))}}]),e}(),b=function(){function e(t){Object(r["a"])(this,e),this.state=!0,this.sentData={},this.header={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},this.category=t}return Object(o["a"])(e,[{key:"setState",value:function(e){this.state=e}},{key:"setResult",value:function(e){this.result=e}},{key:"getResult",value:function(){return this.result}},{key:"getSentDataInfo",value:function(){return this.sentData}},{key:"setSentDataInfo",value:function(e){this.sentData=e}},{key:"setRequest",value:function(e){this.request=e}},{key:"setAttachData",value:function(e){this.attachData=e}},{key:"getAttachData",value:function(){return this.attachData}},{key:"onSuccess",value:function(){return this.successAction}},{key:"onError",value:function(){return this.errorAction}},{key:"OnSuccessAction",value:function(e){this.successAction=e}},{key:"OnErrorAction",value:function(e){this.errorAction=e}},{key:"shoot",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i in this.setState(!0),n=new v,n.add(0,"Shoot "+l["c"].getAPIString(this.request,this.category)),this.setSentDataInfo(Object(s["a"])(Object(s["a"])(Object(s["a"])({},this.attachData),t),{},{offlineHistory:n.getHistory()})),this.getSentDataInfo())("object"===Object(a["a"])(this.getSentDataInfo()[i])||Array.isArray(this.getSentDataInfo[i]))&&(this.getSentDataInfo()[i]=JSON.stringify(this.getSentDataInfo()[i]));return e.next=7,d()({method:"POST",url:l["c"].getAPIString(this.request,this.category),data:Object(s["a"])(Object(s["a"])({},this.getSentDataInfo()),{},{authentication:this.authentication}),headers:this.header}).then((function(e){if("ERROR"==e.data.apistatus)return console.log("ERROR: ".concat(e.data.error_message)),g["a"].alert({type:"is-danger",title:"เกิดข้อผิดพลาด!",message:e.data.error_message,confirmText:"ไปยังหน้าเข้าสู่ระบบ",canCancel:!1,onConfirm:function(){m["b"].getInstance().$router.push({name:"Redirect"})}}),h["a"].sendToast("[ERID:".concat(e.data.error_code,"] ").concat(e.data.error_message),"is-danger"),console.log("".concat(e.data.error_code,": ").concat(e.data.error_message)),void(r.result=null);h["a"].sendToast("REQUESTED SUCCESSFULLY: ".concat(e.config.url),"is-success"),r.setResult(e.data),r.responseInfo={apistatus:e.data.apistatus,error_code:e.data.error_code,error_message:e.data.error_message,error_message_display:e.data.error_message_display},r.convertResult(),r.onSuccess()})).catch((function(e){if(r.onError(),!e)switch(e.response.status){case 500:m["b"].showErrorMessage({message:"เซิร์ฟเวอร์ไม่ตอบสนอง [HTTP_RES:".concat(e.response.status,"]")});break}}));case 7:return this.setState(!1),e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getResponseInfo",value:function(){return this.responseInfo}},{key:"convertResult",value:function(){switch(this.category){case l["a"].USER:if(Array.isArray(this.getResult()["user"])){this.setResult(f["a"].parseUserList(this.getResult()["user"]));break}this.setResult(f["a"].parseUser(this.getResult()["user"]));break;case l["a"].TEMPLATE:if(Array.isArray(this.getResult()["template"])){this.setResult(f["a"].parseTemplateList(this.getResult()["template"]));break}this.setResult(f["a"].parseTemplate(this.getResult()["template"]));break;case l["a"].STANDARD_ELEMENT:if(Array.isArray(this.getResult()["element"])){this.setResult(f["a"].parseStandardElementList(this.getResult()["element"]));break}this.setResult(f["a"].parseStandardElement(this.getResult()["element"]));break;case l["a"].CUSTOM_ELEMENT:if(Array.isArray(this.getResult()["element"])){this.setResult(f["a"].parseCustomElementList(this.getResult()["element"]));break}this.setResult(f["a"].parseCustomElement(this.getResult()["element"]));break;case l["a"].MEDIA:if(Array.isArray(this.getResult()["media"])){this.setResult(f["a"].parseMediaList(this.getResult()["media"]));break}this.setResult(f["a"].parseMedia(this.getResult()["media"]));break;default:return this.setResult(this.getResult())}console.log("::: Converted data to "+(Array.isArray(this.getResult())?"Array<".concat(this.getResult()[0].constructor.name,">"):"".concat(this.getResult().constructor.name)))}},{key:"log",value:function(){console.log("[CRUD URL]::::: ".concat(this.category).concat(this.request)),console.log("## -> Attached Data (Stringify):"),console.log(this.attachData),console.log("## -> All that sent:"),console.log(this.getSentDataInfo()),console.log("## <- Received Data"),console.log(this.getResult())}},{key:"authentication",get:function(){var e;return console.log(c["a"].getUser()),JSON.stringify({token:null===(e=c["a"].getUser())||void 0===e?void 0:e.token})}},{key:"status",get:function(){return this.state}}]),e}()},"8dda":function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e["ADMINISTRATOR"]="Administrator",e["MARKETER"]="Marketer",e["DESIGNER"]="Designer"}(a||(a={}))},"951e":function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e["NONE"]="NONE",e["TEXT"]="TEXT",e["BUTTON"]="BUTTON",e["MEDIA"]="MEDIA",e["FORM"]="FORM",e["COLUMNS"]="COLUMNS",e["SECTIONS"]="SECTIONS"}(a||(a={}))},"9f75":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("e01a"),n("b0c0");var a=n("d4ec"),s=n("262e"),i=n("2caf"),r=n("49e9"),o=function(e){Object(s["a"])(n,e);var t=Object(i["a"])(n);function n(e,s,i,r,o,c,l,u,d){var h;return Object(a["a"])(this,n),h=t.call(this,o,c,l,u,d),h.id=e,h.name=s,h.description=i,h.icon=r,h}return n}(r["a"])},afbc:function(e,t,n){"use strict";n("d3b7");var a=n("2b0e"),s=n("8c4f"),i=n("d4dc"),r=n("8dda"),o=n("d4bf");a["a"].use(s["a"]);var c=function(e){o["a"].getUser();return!0},l=[{path:"*",name:"404",redirect:{name:"Redirect"}},{path:"/redirect",name:"Redirect",component:function(){return n.e("chunk-2d2304a4").then(n.bind(null,"ec3c"))}},{path:"/test",name:"Test",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-9a819782")]).then(n.bind(null,"bcd4"))}},{path:"/auth",name:"Auth",component:function(){return n.e("chunk-2d0a407b").then(n.bind(null,"0566"))},beforeEnter:function(e,t,n){i["b"].setTabIcon(i["c"].AUTHENTICATION),n()}},{path:"/auth/reset",name:"Auth@reset",component:function(){return n.e("chunk-2d0df465").then(n.bind(null,"88e4"))},beforeEnter:function(e,t,n){i["b"].setTabIcon(i["c"].AUTHENTICATION),n()}},{path:"/builder",name:"Builder",redirect:{name:"Builder@start"},component:function(){return n.e("chunk-2d0b9d55").then(n.bind(null,"3541"))},beforeEnter:function(e,t,n){c(r["a"].DESIGNER)&&(i["b"].setTabIcon(i["c"].BUILDER),n())},children:[{path:"start",name:"Builder@start",component:function(){return n.e("chunk-1b341f34").then(n.bind(null,"ac25"))}},{path:"design",name:"Builder@index",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-ef17f748")]).then(n.bind(null,"a107"))}},{path:"settings",name:"Settings",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-6d0a2d9e"),n.e("chunk-7039902f")]).then(n.bind(null,"cf25"))},children:[{path:"template",name:"Settings@template",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-6d0a2d9e")]).then(n.bind(null,"ceb4"))}},{path:"media",name:"Settings@media",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-5e1f01f9")]).then(n.bind(null,"68c6"))}}]}]},{path:"/console",name:"Console",redirect:{name:"Console@index"},component:function(){return n.e("chunk-631dee32").then(n.bind(null,"a915"))},beforeEnter:function(e,t,n){c(r["a"].ADMINISTRATOR)&&(i["b"].setTabIcon(i["c"].CONSOLE),n())},children:[{path:"manage",name:"Console@layout",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-6d0a2d9e"),n.e("chunk-3aba84af")]).then(n.bind(null,"06b1"))},children:[{path:"",name:"Console@index",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-6eaa46b8")]).then(n.bind(null,"85e3"))}},{path:"user",name:"Console@user",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-6eaa46b8")]).then(n.bind(null,"85e3"))}},{path:"template",name:"Console@template",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-d82b2a78")]).then(n.bind(null,"eb21"))}},{path:"standardElement",name:"Console@standardelement",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-e2a2bd2a")]).then(n.bind(null,"007d"))}},{path:"customElement",name:"Console@customelement"},{path:"media",name:"Console@media"}]}]},{path:"/generator",name:"Generator",component:function(){return n.e("chunk-81108bf6").then(n.bind(null,"d839"))},beforeEnter:function(e,t,n){c(r["a"].MARKETER),i["b"].setTabIcon(i["c"].GENERATOR),n()},children:[{path:"#",name:"Generator@layout",redirect:{name:"Generator@start"},component:function(){return n.e("chunk-76da98c5").then(n.bind(null,"372f"))},children:[{path:"start",name:"Generator@start",alias:"/generator",component:function(){return Promise.all([n.e("chunk-1ac9a67f"),n.e("chunk-037e122f")]).then(n.bind(null,"c4be"))}}]}]}],u=new s["a"]({mode:"history",base:"/web/",routes:l});t["a"]=u},b54a:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));n("99af");var a,s,i=n("d4ec"),r=n("bee2");(function(e){e["GET"]="/get",e["CREATE"]="/create",e["UPDATE"]="/update",e["DELETE"]="/delete",e["LOGIN"]="/signin",e["RESET"]="/reset",e["GENERATE"]="/generate"})(a||(a={})),function(e){e["GENERATOR"]="/generator",e["TEMPLATE"]="/template",e["STANDARD_ELEMENT"]="/element/standard",e["CUSTOM_ELEMENT"]="/element/custom",e["MEDIA"]="/media",e["USER"]="/user"}(s||(s={}));var o=function(){function e(){Object(i["a"])(this,e)}return Object(r["a"])(e,null,[{key:"getAPIString",value:function(t,n){return"".concat(e.LOCAL_PATH).concat(n).concat(t)}}]),e}();o.LOCAL_PATH="/api/api-test",o.LOCAL_PATH_ROOT="/api/api-test/"},c115:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));n("a4d3"),n("e01a"),n("b0c0"),n("96cf");var a,s=n("1da1"),i=n("d4ec"),r=n("bee2"),o=n("8cca"),c=n("b54a");(function(e){e["DRAFT"]="Draft",e["PUBLISHED"]="Published"})(a||(a={}));var l=function(){function e(t,n,a,s,r,o,c,l,u,d){Object(i["a"])(this,e),this.id=t,this.name=n,this.description=a,this.head=s,this.body=r,this.customStyle=o,this.owner=c,this.isPublic=l,this.requiredData=u,this.inUsed=d}return Object(r["a"])(e,[{key:"save",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.setItem("loadedTemplate",JSON.stringify(this)),console.log("saved!"),t=new o["a"](c["a"].TEMPLATE),t.setRequest(c["b"].UPDATE),t.setAttachData(this),e.next=7,t.shoot({});case 7:t.log();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clearBody",value:function(){this.body=[]}},{key:"clone",value:function(){}}]),e}()},c325:function(e,t,n){"use strict";var a=n("8a16"),s=n.n(a);s.a},c3cf:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));n("a4d3"),n("e01a"),n("b0c0");var a,s=n("d4ec");(function(e){e["IMAGE"]="IMAGE",e["VIDEO"]="VIDEO",e["YOUTUBE"]="YOUTUBE"})(a||(a={}));var i=function e(t,n,a,i,r,o){Object(s["a"])(this,e),this.id=t,this.name=n,this.description=a,this.type=i,this.directLink=r,this.createdDate=o}},cc82:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("d4ec"),s=n("bee2"),i=n("aced"),r=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,null,[{key:"sendToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"is-dark";return i["a"].open({duration:6e3,message:e,position:"is-top",type:t,queue:!1}),this}}]),e}()},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"slide-fade"}},[n("router-view",{staticStyle:{"margin-top":"5.8rem"}})],1)],1)},i=[],r=n("d4ec"),o=n("bee2"),c=n("262e"),l=n("2caf"),u=n("9ab4"),d=n("60a3"),h=n("d4dc"),f=n("3d8f"),g=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"beforeMount",value:function(){h["b"].registerInstance(this)}},{key:"created",value:function(){}},{key:"utils",get:function(){return h["b"].getInstance()}},{key:"selectedElement",get:function(){return h["b"].getSelectedElement()}}]),n}(d["c"]);g=Object(u["a"])([Object(d["a"])({name:"App",components:{Navbar:f["a"]}})],g);var m=g,p=m,v=(n("034f"),n("2877")),b=Object(v["a"])(p,s,i,!1,null,null,null),y=b.exports,k=n("9483");Object(k["a"])("".concat("/web/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var E=n("afbc"),T=n("2f62"),C=n("0e44"),O=n("951e");a["a"].use(T["a"]);var S=new T["a"].Store({plugins:[Object(C["a"])({storage:window.sessionStorage})],state:{debugMode:!1,template:{},standardElement:[],customElement:[],selectMode:O["a"].TEXT,selectedElement:{},hoveredStandardElement:{},countdownTime:7},mutations:{SET_DEBUG_MODE:function(e,t){e.debugMode=t},SET_TEMPLATE:function(e,t){e.template=t},UPDATE_SELECTED_ELEMENT:function(e,t){e.selectedElement=t},SET_STANDARD_ELEMENTS:function(e,t){e.standardElement=t},SET_CUSTOM_ELEMENTS:function(e,t){e.customElement=t},UPDATE_HOVERED_STANDARD_ELEMENT:function(e,t){e.hoveredStandardElement=t},SET_COUNTDOWN_TIME:function(e,t){e.countdownTime=t},SET_SELECT_MODE:function(e,t){e.selectMode=t}},getters:{isDebugMode:function(e){return e.debugMode},template:function(e){return e.template},selectedElement:function(e){return e.selectedElement},standardElement:function(e){return e.standardElement},customElement:function(e){return e.customElement},hoveredStandardElement:function(e){return e.hoveredStandardElement},countdownTime:function(e){return e.countdownTime},selectMode:function(e){return e.selectMode}},actions:{setDebugMode:function(e,t){e.commit("SET_DEBUG_MODE",t)},setTemplate:function(e,t){e.commit("SET_TEMPLATE",t)},updateSelectedElement:function(e,t){e.commit("UPDATE_SELECTED_ELEMENT",t)},setStandardElement:function(e,t){e.commit("SET_STANDARD_ELEMENTS",t)},setCustomElement:function(e,t){e.commit("SET_CUSTOM_ELEMENTS",t)},updateHoveredStandardElement:function(e,t){e.commit("UPDATE_HOVERED_STANDARD_ELEMENT",t)},setCoundownTime:function(e,t){e.commit("SET_COUNTDOWN_TIME",t)},setSelectMode:function(e,t){e.commit("SET_SELECT_MODE",t)}},modules:{}}),R=n("289d"),w=(n("5abe"),n("964b"));a["a"].component("quick-edit",w["a"]),a["a"].use(R["a"]),a["a"].config.productionTip=!1,new a["a"]({router:E["a"],store:S,render:function(e){return e(y)}}).$mount("#app")},d4a9:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("a4d3"),n("e01a"),n("4160"),n("b0c0"),n("159b");var a=n("d4ec"),s=n("bee2"),i=n("c115"),r=n("e348"),o=n("9f75"),c=n("523a"),l=n("49e9"),u=n("8016"),d=n("c3cf"),h=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,null,[{key:"parseUser",value:function(e){return new u["a"](e.id,e.username,e.email,e.firstName,e.lastName,e.profileImg,e.role,e.token)}},{key:"parseUserList",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.parseUser(e))})),n}},{key:"parseTemplate",value:function(e){return new i["a"](e.id,e.name,e.description,new r["a"](e.head.title,e.head.icon,e.head.meta,e.head.externalLink),this.processTemplateElementList(e.body),e.customStyle,this.parseUser(e.owner),e.isPublic,e.requiredData,e.inUsed)}},{key:"parseTemplateList",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.parseTemplate(e))})),n}},{key:"parseStandardElement",value:function(e){return new o["a"](e.id,e.name,e.description,e.icon,e.tag,e.props,e.inner,e.parentTags,e.childTags).setChildren(this.processTemplateElementList(e.children)).setLock(e.isLock).setTypeTags(e.typeTags)}},{key:"parseStandardElementList",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.parseStandardElement(e))})),n}},{key:"parseCustomElement",value:function(e){return new c["a"](e.id,e.name,e.description,this.parseUser(e.owner),e.tag,e.inner,e.props,e.parentTags,e.childTags).setChildren(this.processTemplateElementList(e.children)).setLock(e.isLock)}},{key:"parseCustomElementList",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.parseCustomElement(e))})),n}},{key:"processTemplateElement",value:function(e){return new l["a"](e.tag,e.props,e.inner,e.parentTags,e.childTags).setChildren(this.processTemplateElementList(e.children)).setLock(e.isLock).setTypeTags(e.typeTags)}},{key:"processTemplateElementList",value:function(e){var t=this,n=[];return e.forEach((function(e,a){n.push(t.processTemplateElement(e))})),n}},{key:"parseMedia",value:function(e){return new d["a"](e.id,e.name,e.description,e.type,e.directLink,e.createdDate)}},{key:"parseMediaList",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.parseMedia(e))})),n}}]),e}()},d4bf:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("96cf");var a=n("1da1"),s=n("d4ec"),i=n("bee2"),r=n("8016"),o=n("d4dc"),c=n("cc82"),l=n("b54a"),u=n("8cca"),d=n("5e51"),h=function(){function e(){Object(s["a"])(this,e)}return Object(i["a"])(e,null,[{key:"login",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new u["a"](l["a"].USER),a.setRequest(l["b"].LOGIN),e.next=4,a.shoot({username:t,password:n});case 4:if(a.log(),"OK"!==a.getResponseInfo().apistatus){e.next=10;break}return console.log(a.getResult().auth_user),this.userVault.setUser(a.getResult().auth_user),e.next=10,o["b"].getInstance().$router.push({name:"Redirect"}).then((function(){c["a"].sendToast("เข้าสู่ระบบแล้วเป็น "+a.getResult().auth_user.username,"is-success")}));case 10:return e.abrupt("return",this);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"resetPassword",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUser",value:function(){return this.userVault.getUser()}},{key:"isLogged",value:function(){return this.userVault.getUser()instanceof r["a"]}},{key:"logout",value:function(){return e.isLogged()&&(this.userVault.clear(),o["b"].getInstance().$router.push({name:"Auth"}).then()),c["a"].sendToast("ออกจากระบบแล้ว","is-success"),this}}]),e}();h.userVault=new d["a"]},d4dc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return O}));n("a4d3"),n("e01a"),n("99af"),n("4160"),n("b0c0"),n("159b"),n("96cf");var a,s,i=n("1da1"),r=n("d4ec"),o=n("bee2"),c=n("60a3"),l=n("e348"),u=n("d840"),d=n("49e9"),h=n("9f75"),f=n("523a"),g=n("53d8"),m=n("c115"),p=n("39ea"),v=n("8dda"),b=n("afbc"),y=n("ee05"),k=n("8cca"),E=n("b54a"),T=n("679f"),C=n("5e51");(function(e){e[e["TRUE"]=0]="TRUE",e[e["FALSE"]=1]="FALSE",e[e["TOGGLE"]=2]="TOGGLE"})(a||(a={})),function(e){e["BUILDER"]="/icon/builder.ico",e["GENERATOR"]="/icon/generator.ico",e["CONSOLE"]="/icon/manage.ico",e["AUTHENTICATION"]="/icon/auth.ico"}(s||(s={}));var O=function(){function e(){Object(r["a"])(this,e)}return Object(o["a"])(e,null,[{key:"getInstance",value:function(){return null===this._builderInstance?(u["a"].debugMessage(u["b"].WARNING,"[BuilderUtils] Instance is not register! Now return a new one."),new c["c"]):this._builderInstance}},{key:"registerInstance",value:function(e){try{return this._builderInstance=e,this._builderInstance}catch(t){u["a"].log(u["b"].ERROR,"OMS Instance ยังไม่ได้ถูกตั้งค่า")}return this._builderInstance}},{key:"setLoggedUser",value:function(e){this.getInstance().$store.dispatch("setLoggedUser",e).then(),u["a"].debugMode&&console.log("[Authentication] Logged in as ".concat(e.username,": ").concat(e.email,". @").concat(e.role))}},{key:"setTemplate",value:function(e){this.getInstance().$store.dispatch("setTemplate",e).then(),u["a"].debugMode&&console.log("[Set] 'Template' successfully assigned!")}},{key:"setHead",value:function(e){this.getInstance().$store.dispatch("setHead",e).then(),u["a"].debugMode&&console.log("[Set] 'Head' successfully assigned!")}},{key:"setBody",value:function(e){this.getInstance().$store.dispatch("setBody",e).then(),u["a"].debugMode&&console.log("[Set] 'Body' successfully assigned!")}},{key:"setHoveredElement",value:function(e){this.getInstance().$store.dispatch("updateHoveredStandardElement",e).then(),u["a"].debugMode&&console.log("[Set] 'updateHoveredStandardElement' successfully assigned!")}},{key:"setSelectedElement",value:function(e){this.getInstance().$store.dispatch("updateSelectedElement",e).then((function(){u["a"].debugMode&&console.log("[Set] 'updateSelected' New selected info successfully assigned : As @".concat(e.tag,"!"))}))}},{key:"showSnackbar",value:function(e,t,n,a,s){return this.getInstance().$buefy.snackbar.open({message:e,type:n,position:a,actionText:t,indefinite:s}),this}},{key:"showToast",value:function(e,t,n,a){return this.getInstance().$buefy.toast.open({duration:a,message:e,position:n,type:t}),this}},{key:"setDebugMode",value:function(e){var t=this;switch(e){case a.TRUE:this.getInstance().$store.dispatch("setDebugMode",!0).then();break;case a.FALSE:this.getInstance().$store.dispatch("setDebugMode",!1).then();break;case a.TOGGLE:var n=this.isDebugMode();this.getInstance().$store.dispatch("setDebugMode",!n).then((function(){u["a"].log(u["b"].WARNING,"ค่า Debug Mode ถูกเปลี่ยนแปลงเป็น "+t.isDebugMode())}));break;default:u["a"].log(u["b"].WARNING,"ค่า Debug Mode ถูกเรียกใช้ แต่ไม่มีการเปลี่ยนแปลงค่าใดๆ");break}}},{key:"setCustomStyleSource",value:function(t){var n=window.document.getElementById("theme_css");null!==n?n.href=t:e.showToast("ไม่สามารถเปลี่ยนข้อมูลแหล่งที่มาของไฟล์ได้",g["a"].WARNING,g["b"].TOP,3e3)}},{key:"setTabIcon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.BUILDER,n=window.document.getElementById("theme_icon");null!==n?n.href=t:e.showToast("ไม่สามารถเปลี่ยนไอคอนบนแท็บได้",g["a"].DANGER,g["b"].TOP,3e3)}},{key:"showErrorMessage",value:function(t){p["a"].alert({type:"is-danger",title:t.title||"เกิดข้อผิดพลาด!",message:t.message||"พบปัญหาในการทำงานของระบบ!",confirmText:"ตกลง",canCancel:!1,onConfirm:function(){e.getInstance().$router.push({name:t.redirectToRouteName}).then()}})}},{key:"showAlert",value:function(e,t,n,a){p["a"].alert({title:e,message:t,type:n,hasIcon:a,icon:"times-circle",iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0})}},{key:"parseTemplate",value:function(e){return e?new m["a"](e.id,e.name,e.description,new l["a"](e.head.title,e.head.icon,e.head.meta,e.head.externalLink),this.processTemplateElement(e.body),e.customStyle,e.owner,e.isPublic,e.requiredData,e.inUsed):null}},{key:"processStandardElement",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(new h["a"](0,e.name,e.description,e.icon,e.tag,e.props,e.inner,e.parentTags,e.childTags).setChildren(t.processTemplateElement(e.children)))})),n}},{key:"processCustomElement",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(new f["a"](0,e.name,e.description,e.owner,e.tag,e.inner,e.props,e.parentTags,e.childTags).setChildren(t.processTemplateElement(e.children)))})),n}},{key:"processTemplateElement",value:function(e){var t=this,n=[];return e.forEach((function(e,a){n.push(new d["a"](e.tag,e.props,e.inner,e.parentTags,e.childTags).setChildren(t.processTemplateElement(e.children)))})),n}},{key:"saveTemplate",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.setItem("loadedTemplate",JSON.stringify(this.getInstance().$store.getters.template)),t=new k["a"](E["a"].TEMPLATE),t.setRequest(E["b"].UPDATE),t.setAttachData(T["a"].getTemplate()),e.next=6,t.shoot({});case 6:t.log();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveTemplateInstantly",value:function(){y["a"].setTime(1),y["a"].start()}},{key:"redirectUser",value:function(e){switch(e.role){case v["a"].ADMINISTRATOR:b["a"].push({name:"Console@index"}).then();break;case v["a"].MARKETER:b["a"].push({name:"Generator@start"}).then();break;case v["a"].DESIGNER:b["a"].push({name:"Builder@index"}).then();break;default:b["a"].push({name:"Auth"}).then();break}}},{key:"pendingSave",value:function(){if(0===y["a"].getTime())return y["a"].setTime(7),void y["a"].start();y["a"].setTime(7)}},{key:"cleanUp",value:function(){this.getInstance().$store.state.selectedElement=[]}},{key:"save",value:function(){return this.getTemplate().save(),this}},{key:"setUser",value:function(e){localStorage.setItem("loggeduser",JSON.stringify(e))}},{key:"getBrowser",value:function(){return new u["a"]}},{key:"getTemplate",value:function(){return this.getInstance().$store.getters.template}},{key:"getHead",value:function(){return this.getInstance().$store.getters.head}},{key:"getBody",value:function(){return this.getInstance().$store.getters.body}},{key:"getUser",value:function(){return localStorage.getItem("loggeduser")}},{key:"getLoggedUser",value:function(){var e=new C["a"];return e.getUser()}},{key:"getSelectedElement",value:function(){return this.getInstance().$store.getters.selectedElement}},{key:"getHoveredElement",value:function(){return this.getInstance().$store.getters.hoveredStandardElement}},{key:"getStandardElement",value:function(){return this.getInstance().$store.getters.standardElement}},{key:"getCustomElement",value:function(){return this.getInstance().$store.getters.customElement}},{key:"isDebugMode",value:function(){return this.getInstance().$store.getters.isDebugMode}}]),e}()},d840:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));n("99af"),n("d3b7"),n("25f0");var a,s=n("d4ec"),i=n("bee2"),r=n("d4dc");(function(e){e["DEFAULT"]="Default",e["INFO"]="Info",e["WARNING"]="Warning",e["ERROR"]="Error"})(a||(a={}));var o=function(){function e(){Object(s["a"])(this,e)}return Object(i["a"])(e,null,[{key:"debugMessage",value:function(t,n){e.debugMode&&e.log(t,n)}},{key:"log",value:function(e,t){switch(e){case a.DEFAULT:console.log("%c[".concat(e,"] ").concat(t),"#00bfff");break;case a.INFO:console.info("[".concat(e,"] ").concat(t));break;case a.WARNING:console.warn("[".concat(e,"] ").concat(t));break;case a.ERROR:console.error("[".concat(e,"] ").concat(t));break;default:console.log("[".concat(e,"] ").concat(t));break}}},{key:"welcome",value:function(){console.log("+------------------------------------+ \n|        SAMT Template OMS       | \n| Developed by gamelovemiku for SAMT | \n|         v4.2a development          | \n+------------------------------------+")}},{key:"setPageTitle",value:function(e){document.title=e}},{key:"getRoute",value:function(){return r["b"].getInstance().$route}},{key:"getRouter",value:function(){return r["b"].getInstance().$router}},{key:"randomHEXString",value:function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16))}},{key:"randomString",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*a));return t}},{key:"debugMode",get:function(){return r["b"].getInstance().$store.getters.isDebugMode}}]),e}()},e348:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("b0c0");var a=n("d4ec"),s=function e(t,n,s,i){Object(a["a"])(this,e),this.title=t,this.icon=n,this.meta=s,this.externalLink=i}},ee05:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("d4ec"),s=n("bee2"),i=n("d4dc"),r=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,null,[{key:"registerInstance",value:function(e){this.instance=e}},{key:"start",value:function(){this.instance.$refs.counter.countDownTimer()}},{key:"resetTimer",value:function(){this.instance.$refs.counter.reset(7)}},{key:"getTime",value:function(){return this.instance.$refs.counter.countDown}},{key:"setTime",value:function(e){this.instance.$refs.counter.countDown=e}},{key:"onCounting",value:function(e){console.log("[AutoSave] ระบบจะบันทึกแม่แบบในอีก "+e+" วินาที")}},{key:"onOver",value:function(){console.log("[AutoSave] กำลังบันทึกแม่แบบ..."),i["b"].saveTemplate().then((function(){console.log("[AutoSave] บันทึกเรียบร้อย!")}))}}]),e}()}});
//# sourceMappingURL=app.e8ce84b1.js.map